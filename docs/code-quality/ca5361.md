---
title: 'CA5361: Deaktivieren Sie Schannel nicht. Verwenden Sie starke Kryptografie.'
description: Enthält Informationen über die Code Analyse Regel CA5361, einschließlich der Gründe, der Behebung von Verstößen und der Zeit, zu der Sie unterdrückt werden soll.
ms.date: 07/12/2019
ms.topic: reference
author: dotpaul
ms.author: paulming
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
f1_keywords:
- CA5361
- DoNotSetSwitch
ms.openlocfilehash: 02993261f235318376c776f5bfbf2a8af69ccc71
ms.sourcegitcommit: 9f6f63a2d76c6e579b4b67a96ec86faba99ad1df
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/03/2019
ms.locfileid: "71933157"
---
# <a name="ca5361-do-not-disable-schannel-use-of-strong-crypto"></a>CA5361: Deaktivieren Sie Schannel nicht. Verwenden Sie starke Kryptografie.

|||
|-|-|
|TypeName|Donotabwitch|
|CheckId|CA5361|
|Kategorie|Microsoft.Security|
|Unterbrechende Änderung|Nicht unterbrechend|

## <a name="cause"></a>Ursache

Ein <xref:System.AppContext.SetSwitch%2A?displayProperty=nameWithType>-Methoden aufruflegt `Switch.System.Net.DontEnableSchUseStrongCrypto` auf `true` fest.

## <a name="rule-description"></a>Regelbeschreibung

Durch Festlegen von `Switch.System.Net.DontEnableSchUseStrongCrypto` auf `true` wird die Kryptografie für ausgehende Transport Layer Security Verbindungen (TLS) schwächer. Schwächere Kryptografie kann die Vertraulichkeit der Kommunikation zwischen Ihrer Anwendung und dem Server beeinträchtigen, sodass Angreifer die Möglichkeit erhalten, sensible Daten besser zu löschen. Weitere Informationen finden Sie unter [Transport Layer Security (TLS) Best Practices with the .NET Framework](/dotnet/framework/network-programming/tls#switchsystemnetdontenableschusestrongcrypto).

## <a name="how-to-fix-violations"></a>Behandeln von Verstößen

- Wenn Ihre Anwendung auf .NET Framework v 4.6 oder höher ausgerichtet ist, können Sie entweder den <xref:System.AppContext.SetSwitch%2A?displayProperty=nameWithType>-Methodenaufrufe entfernen oder den Wert des Schalters auf `false` festlegen.
- Wenn Ihre Anwendung auf .NET Framework vor Version 4.6 ausgerichtet ist und auf .NET Framework v 4.6 oder höher ausgeführt wird, legen Sie den Wert des Schalters auf `false` fest.
- Weitere Informationen finden Sie unter [bewährte Methoden für Transport Layer Security (TLS) mit der .NET Framework](/dotnet/framework/network-programming/tls) für entschärfungen.

## <a name="when-to-suppress-warnings"></a>Wann sollten Warnungen unterdrückt werden?

Sie können diese Warnung unterdrücken, wenn Sie eine Verbindung mit einem Legacy Dienst herstellen müssen, der nicht für die Verwendung sicherer TLS-Konfigurationen aktualisiert werden kann.

## <a name="pseudo-code-examples"></a>Pseudo Codebeispiele

### <a name="violation"></a>Verletzung

```csharp
using System;

public class ExampleClass
{
    public void ExampleMethod()
    {
        // CA5361 violation
        AppContext.SetSwitch("Switch.System.Net.DontEnableSchUseStrongCrypto", true);
    }
}
```

```vb
Imports System

Public Class ExampleClass
    Public Sub ExampleMethod()
        ' CA5361 violation
        AppContext.SetSwitch("Switch.System.Net.DontEnableSchUseStrongCrypto", true)
    End Sub
End Class
```

### <a name="solution"></a>Lösung

```csharp
using System;

public class ExampleClass
{
    public void ExampleMethod()
    {
        AppContext.SetSwitch("Switch.System.Net.DontEnableSchUseStrongCrypto", false);
    }
}
```

```vb
Imports System

Public Class ExampleClass
    Public Sub ExampleMethod()
        AppContext.SetSwitch("Switch.System.Net.DontEnableSchUseStrongCrypto", false)
    End Sub
End Class
```
